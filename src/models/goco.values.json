{
	"PkgName": "models",
	"Imports": ["time", "github.com/golang/glog", "github.com/satori/go.uuid"],
	"Models": [
		{
			"Name": "ValueDTO",
			"Type": "dto",
			"Implements": ["DTO"],
			"FactoryCustomCode": [
				"model.Props = NewInterfaceMap()"
			],
			"Fields": [
				{
					"Name": "ValueId",
					"Type": "string",
					"Tags": {
						"json": "-"
					}
				},
				{	
					"Comment": "Какие поля следует",
					"Name": "UpdateFields",
					"Type": "StringArray",
					"Tags": {
						"json": "-"
					}
				},
				{
					"Name": "Keys",
					"Type": "StringArray"	
				},
				{
					"Name": "Value",
					"Type": "string"	
				},
				{
					"Name": "Props",
					"Type": "InterfaceMap"
				},
				{
					"Name": "Flags",
					"Type": "StringArray"
				},
				{
					"Name": "IsEnabled",
					"Type": "bool"
				},
				{
					"Name": "IsRemoved",
					"Type": "bool"
				}
			]
		},
		{
			"Name": "Value",
			"Type": "database",
			"TableName": "values",
			"FactoryCustomCode": [
				"model.Props = NewInterfaceMap()"
			],
			"Fields": [
				{
					"Name": "ValueId",
					"Type": "uuid.UUID",
					"IsPrimaryKey": true
				},
				{
					"Name": "Keys",
					"Type": "[]string"
				},
				{
					"Name": "Value",
					"Type": "string"
				},
				{
					"Name": "Props",
					"Type": "InterfaceMap"
				},
				{
					"Name": "Flags",
					"Type": "[]string"
				},
				{
					"Name": "IsEnabled",
					"Type": "bool"
				},
				{
					"Name": "IsRemoved",
					"Type": "bool"
				},

				{
					"Name": "UpdatedAt",
					"Type": "time.Time",
					"Tags": {
						"sql": "type:timestamp;default:now()"
					}
				},
				{
					"Name": "CreatedAt",
					"Type": "time.Time",
					"Tags": {
						"sql": "type:timestamp;default:null"
					}
				}
			],
			"Transformer": {
				"From": [
					{
						"Name": "Value",
						"Map": {
							"ValueId":"ValueId",
							"Keys":"Keys",
							"Value":"Value",
							"Flags":"Flags",
							"IsEnabled":"IsEnabled",
							"IsRemoved":"IsRemoved",
							"UpdatedAt":"UpdatedAt",
							"CreatedAt":"CreatedAt",
							"Props": "Props"
						},
						"Custom": [
							"//model.Props = make(map[string]string, len(dto.Props))",
							"//for key, _ := range dto.Props {",
							"//model.Props[key] = dto.Props[key]",
							"//}"
						]
					},
					{
						"Name": "ValueDTO",
						"Map": {
							"Keys":"Keys.Array()",
							"Value":"Value",
							"Flags":"Flags.Array()",
							"IsEnabled":"IsEnabled",
							"IsRemoved":"IsRemoved"
						},
						"Custom": [
							"//model.Props = map[string]string(dto.Props)",
							"model.Props = dto.Props",
							"model.ValueId = uuid.FromStringOrNil(dto.ValueId)"
						]
					}
				]
			}
		}
	]
}